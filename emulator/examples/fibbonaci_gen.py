#!/bin/python3

a = [
	0x0e, 0x00, 0x00,				# xor a, a
	0x0e, 0x01, 0x01,				# xor b, b
	0x07, 0x01,						# inc b
	0x0e, 0x03, 0x03,				# xor d, d
	# c = a + b;
	0x17, 0x02, 0x00,				# mov c, a
	0x02, 0x02, 0x01,				# add c, b
	# a = b;
	0x17, 0x00, 0x01,				# mov a, b
	# b = c;
	0x17, 0x01, 0x02,				# mov b, c
	# printf("%d", c);
	0xfe, 0x02,						# out c
	# if (j < 5) i++; goto 11;
	0x1c, 0x03, 0x0A, 0x00, 0x00, 0x00, # cmp d, val
	0x07, 0x03,						# inc d
	0x1f, 0x0B, 0x00, 0x00, 0x00,	# jl 11 (0xb)
	# exit(0);
	0xff							# hlt
]

with open("fibbonaci.bin", "wb") as f:
	f.write(bytearray(a))
